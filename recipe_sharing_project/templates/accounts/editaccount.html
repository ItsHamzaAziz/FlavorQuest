{% extends 'layout/layout.html' %}

{% block content %}
    <div class="bg-orange-500 md:w-1/2 w-4/5 mx-auto mt-5 rounded-lg p-5 my-5">
        <h1 class="text-white text-2xl text-center">Edit Account</h1>

        {% for message in messages %}
            <div id="alert-2" class="flex items-center p-4 mb-4 text-red-100 rounded-lg bg-red-500 mt-5" role="alert">
                <div class="ms-3 text-sm font-medium">{{ message }}</div>
                <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-red-500 text-red-200 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-600 inline-flex items-center justify-center h-8 w-8" data-dismiss-target="#alert-2" aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                </svg>
                </button>
            </div>
        {% endfor %}

        <form method="post" class="mt-5">
            {% csrf_token %}

            <!-- Using boolean variable data here so that when user details are not updated and user is shown some error message then they get the values entered instead of blank input fields -->

            <div class="grid gap-6 mb-6 md:grid-cols-2">
                <div>
                    <label for="first_name" class="block mb-2 text-sm font-medium dark:text-white">First name</label>
                    <input type="text" name="first_name" id="first_name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="e.g Hamza" value="{% if data %}{{ first_name }}{% else %}{{ user.first_name }}{% endif %}" required />
                </div>
                <div>
                    <label for="last_name" class="block mb-2 text-sm font-medium0 dark:text-white">Last name</label>
                    <input type="text" name="last_name" id="last_name" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="e.g Aziz" value="{% if data %}{{ last_name }}{% else %}{{ user.last_name }}{% endif %}" required />
                </div>
                <div>
                    <label for="company" class="block mb-2 text-sm font-medium dark:text-white">Email</label>
                    <input type="email" name="email" id="company" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="e.g abc@xyz.com" value="{% if data %}{{ email }}{% else %}{{ user.email }}{% endif %}" required />
                </div>
                <div>
                    <label for="username" class="block mb-2 text-sm font-medium dark:text-white">Username</label>
                    <input type="text" id="username" name="username" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="e.g hamzaaziz" value="{% if data %}{{ username }}{% else %}{{ user.username }}{% endif %}" required />
                </div>
            </div>
            <div class="mb-6">
                <label for="password" class="block mb-2 text-sm font-medium dark:text-white">New Password</label>
                <input type="password" name="password" id="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="•••••••••" value="{% if data %}{{ password }}{% endif %}" required />
            </div>
            <div class="mb-6">
                <label for="confirm_password" class="block mb-2 text-sm font-medium text-white">Confirm password</label>
                <input type="password" name="password2" id="confirm_password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5" placeholder="•••••••••" value="{% if data %}{{ password2 }}{% endif %}" required />
            </div>
            <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm w-full sm:w-1/3 block mx-auto px-5 py-2.5 text-center">Submit</button>
        </form>
    </div>
{% endblock %}